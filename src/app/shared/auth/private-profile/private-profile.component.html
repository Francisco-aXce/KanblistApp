<ng-container *ngIf="(managementService.loaded$ | async); else loading">
  <ng-container *ngIf="userData; else login">
    <div ngbDropdown #dropUser="ngbDropdown" class="d-flex">
      <p class="text-white fw-bold my-auto me-1">{{userData.claims?.name}}</p>
      <button type="button" class="btn userPfp" (click)="$event.stopPropagation(); dropUser.open();">
        <img [src]="userData.claims?.picture || './../../../assets/nouser.svg'" referrerpolicy="no-referrer"
          alt="user profile picture">
      </button>
      <div ngbDropdownMenu aria-labelledby="dropUser">
        <button ngbDropdownItem [routerLink]="['..','profile']">Profile</button>
        <hr class="dropdown-divider">
        <button ngbDropdownItem class="btn btn-danger rounded-0" (click)="authService.logout()">Log Out</button>
      </div>
    </div>
  </ng-container>

  <ng-template #login>
    <button type="button" class="btn btn-success" routerLink="/auth/login">
      <i class="bi bi-box-arrow-in-right"></i>
      <span class="ms-1">Log In</span>
    </button>
  </ng-template>


</ng-container>

<ng-template #loading>
  <div class="placeholder-glow">
    <span class="userPfp placeholder bg-light"></span>
  </div>
</ng-template>